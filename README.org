* Purpose
A temporary repository to figure out how to add libsodium as a bazel dependency using the rules_foreign_cc archive

* Build environment
OS: gnetoo linux
make: gmake, cmake

would like to eventually target other platforms such as Android / ios

* How am I building
see [[file+emacs:.dir-locals.el][dir locals]]

* Current build output
#+BEGIN_EXAMPLE
-*- mode: compilation; default-directory: "~/dev/bazelLibsodiumTest/" -*-
Compilation started at Sat Feb 23 11:28:27

TMPDIR=/home/dustfinger/dev/tmp bazel build --experimental_cc_skylark_api_enabled_packages=@rules_foreign_cc//tools/build_defs,tools/build_defs,@foreign_cc_impl //src:main --verbose_failures --sandbox_debug
Starting local Bazel server and connecting to it...
INFO: Invocation ID: 95542a65-b57e-48f3-b33c-d6d4b4273056
Loading: 
Loading: 0 packages loaded
Loading: 0 packages loaded
INFO: SHA256 (https://github.com/bazelbuild/rules_foreign_cc/archive/master.zip) = 04f91959f71cdf70151455d9af63579aa80b613bdd67f51df686ba0cb2f23183
Analyzing: target //src:main (2 packages loaded)
Analyzing: target //src:main (3 packages loaded, 0 targets configured)
INFO: Analysed target //src:main (14 packages loaded, 624 targets configured).
INFO: Found 1 target...
bazel: Entering directory `/home/dustfinger/.cache/bazel/_bazel_dustfinger/9eac64b3fc007e990a2b4d34b02baad6/execroot/com_github_bloggerbust_bazelLibsodiumTest/'
[0 / 8] [-----] BazelWorkspaceStatusAction stable-status.txt ... (3 actions, 0 running)
[6 / 12] CcConfigureMakeRule libsodium_configure/include; 1s linux-sandbox
[6 / 12] CcConfigureMakeRule libsodium_configure/include; 11s linux-sandbox
[6 / 12] CcConfigureMakeRule libsodium_configure/include; 33s linux-sandbox
[6 / 12] CcConfigureMakeRule libsodium_configure/include; 41s linux-sandbox
INFO: From CcConfigureMakeRule libsodium_configure/include:

######################################
# A WHOLE BUNCH OF OUTPUT OMITTED HERE
######################################

CMake Error: The source directory "/home/dustfinger/.cache/bazel/_bazel_dustfinger/9eac64b3fc007e990a2b4d34b02baad6/sandbox/linux-sandbox/2/execroot/com_github_bloggerbust_bazelLibsodiumTest/external/org_libsodium" does not appear to contain CMakeLists.txt.
Specify --help for usage, or press the help button on the CMake GUI.

_____ END BUILD LOGS _____
rules_foreign_cc: Build script location: bazel-out/k8-fastbuild/genfiles/libsodium_make/logs/CMake_script.sh
rules_foreign_cc: Build log location: bazel-out/k8-fastbuild/genfiles/libsodium_make/logs/CMake.log

bazel: Leaving directory `/home/dustfinger/.cache/bazel/_bazel_dustfinger/9eac64b3fc007e990a2b4d34b02baad6/execroot/com_github_bloggerbust_bazelLibsodiumTest/'
Target //src:main failed to build
INFO: Elapsed time: 54.355s, Critical Path: 49.14s
INFO: 1 process: 1 linux-sandbox.
FAILED: Build did NOT complete successfully
FAILED: Build did NOT complete successfully

Compilation exited abnormally with code 1 at Sat Feb 23 11:29:21
#+END_EXAMPLE
